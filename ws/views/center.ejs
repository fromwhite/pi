<section class="main content" id="upload">
    <h4>上传</h4>
    <div class="item">
        <label for="file" class="fileTag">进度：
            <i id="progress">0</i>
        </label>
        <input type="file" name="file" class="file" onchange="upload()" id="file" style="position:absolute;clip:rect(0 0 0 0);" tabindex='1'
        />
    </div>
</section>
<section class="main content" id="del">
    <h4>删除</h4>
    <div class="wrapper" id="del_wrapper">
        <a href="javascript:;" onclick="javascript:del(this)" data-origin='webgl 2d渲染 drawImage'>webgl 2d渲染 drawImage</a>
    </div>
</section>

<script>
    function del(tag) {
        var wrapper = document.getElementById(del_wrapper)
        //wrapper.removeChild(tag)
        console.log(tag.dataset.origin, tag, 1)
    }

    function upload() {
        var file = new FormData()
        file.append("file", document.getElementById('file').files[0])
        var xhr = new XMLHttpRequest();
        xhr.upload.addEventListener("progress", uploadProgress, false);
        xhr.addEventListener("load", uploadStatus, false);
        xhr.addEventListener("error", uploadStatus, false);
        xhr.addEventListener("abort", uploadStatus, false);
        xhr.open("POST", "/center");
        xhr.send(file);
    }

    function uploadProgress(evt) {
        if (evt.lengthComputable) {
            var percentComplete = Math.round(evt.loaded * 100 / evt.total);
            document.getElementById('progress').innerHTML = percentComplete.toString() + '%';
        } else {
            document.getElementById('progress').innerHTML = 'unable to compute';
        }
    }

    function uploadStatus(evt) {
        console.log(evt.target.responseText)
    }
</script>